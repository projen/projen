// ~~ Generated by projen. To modify, edit .projenrc.ts and run "node ./projen.js".
/**
 * @schema HatchConfiguration
 */
export interface HatchConfiguration {
  /**
   * @schema HatchConfiguration#metadata
   */
  readonly metadata?: Metadata;

  /**
   * @schema HatchConfiguration#env
   */
  readonly env?: CollectorEnv;

  /**
   * @schema HatchConfiguration#envs
   */
  readonly envs?: { [key: string]: Env };

  /**
   * @schema HatchConfiguration#buildConfig
   */
  readonly buildConfig?: Build;

  /**
   * @schema HatchConfiguration#version
   */
  readonly version?: Version;

  /**
   * @schema HatchConfiguration#publish
   */
  readonly publish?: Publish;
}

/**
 * Converts an object of type 'HatchConfiguration' to JSON representation.
 * @internal
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_HatchConfiguration(obj: HatchConfiguration | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'metadata': toJson_Metadata(obj.metadata),
    'env': toJson_CollectorEnv(obj.env),
    'envs': ((obj.envs) === undefined) ? undefined : (Object.entries(obj.envs).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: toJson_Env(i[1]) }), {})),
    'build': toJson_Build(obj.buildConfig),
    'version': toJson_Version(obj.version),
    'publish': toJson_Publish(obj.publish),
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * Metadata for the project
 *
 * @schema Metadata
 */
export interface Metadata {
  /**
   * Whether to allow direct references
   *
   * @schema Metadata#allow-direct-references
   */
  readonly allowDirectReferences?: boolean;

  /**
   * Whether to allow ambiguous features
   *
   * @schema Metadata#allow-ambiguous-features
   */
  readonly allowAmbiguousFeatures?: boolean;

  /**
   * Configuration for plugin hooks that allow for the modification of project metadata after it has been loaded
   *
   * @schema Metadata#hooks
   */
  readonly hooks?: any;
}

/**
 * Converts an object of type 'Metadata' to JSON representation.
 * @internal
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_Metadata(obj: Metadata | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'allow-direct-references': obj.allowDirectReferences,
    'allow-ambiguous-features': obj.allowAmbiguousFeatures,
    'hooks': obj.hooks,
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * Environment collector plugin configuration
 *
 * @schema CollectorEnv
 */
export interface CollectorEnv {
  /**
   * Custom environment collectors
   *
   * @schema CollectorEnv#collectors
   */
  readonly collectors?: { [key: string]: any };

  /**
   * Required environment collectors for automatic management
   *
   * @schema CollectorEnv#requires
   */
  readonly requires?: string[];
}

/**
 * Converts an object of type 'CollectorEnv' to JSON representation.
 * @internal
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_CollectorEnv(obj: CollectorEnv | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'collectors': ((obj.collectors) === undefined) ? undefined : (Object.entries(obj.collectors).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {})),
    'requires': obj.requires?.map(y => y),
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * @schema Env
 */
export interface Env {
  /**
   * Template environment to inherit from. Set to own name to make self referential (disable inheritance from “default”)
   *
   * @schema Env#template
   */
  readonly template?: string;

  /**
   * Make the environment self-referential and skip project install
   *
   * @schema Env#detached
   */
  readonly detached?: boolean;

  /**
   * List of dependencies to install in the environment
   *
   * @schema Env#dependencies
   */
  readonly dependencies?: string[];

  /**
   * List of extra dependencies to install in the environment in addition to the template environment’s dependencies
   *
   * @schema Env#extra-dependencies
   */
  readonly extraDependencies?: string[];

  /**
   * List of optional dependency groups (extras) to install
   *
   * @schema Env#features
   */
  readonly features?: string[];

  /**
   * Whether to install the project in development mode
   *
   * @schema Env#dev-mode
   */
  readonly devMode?: boolean;

  /**
   * Whether to skip installing the project
   *
   * @schema Env#skip-install
   */
  readonly skipInstall?: boolean;

  /**
   * Environment variables to set
   *
   * @schema Env#env-vars
   */
  readonly envVars?: { [key: string]: string };

  /**
   * Glob patterns of environment variables to include
   *
   * @schema Env#env-include
   */
  readonly envInclude?: string[];

  /**
   * Glob patterns of environment variables to exclude
   *
   * @schema Env#env-exclude
   */
  readonly envExclude?: string[];

  /**
   * Dictionary of scripts to run
   *
   * @schema Env#scripts
   */
  readonly scripts?: { [key: string]: string[] };

  /**
   * List of commands to run before installing the project
   *
   * @schema Env#pre-install-commands
   */
  readonly preInstallCommands?: string[];

  /**
   * List of commands to run after installing the project
   *
   * @schema Env#post-install-commands
   */
  readonly postInstallCommands?: string[];

  /**
   * Python version to use or an absolute path to a python interpreter
   *
   * @schema Env#python
   */
  readonly python?: string;

  /**
   * List of platforms to build for
   *
   * @schema Env#platforms
   */
  readonly platforms?: Platform[];

  /**
   * Description of the environment for the `env show` command
   *
   * @schema Env#description
   */
  readonly description?: string;

  /**
   * Type of environment. Without plugins, the only supported type is "virtual"
   *
   * @schema Env#type
   */
  readonly type?: string;

  /**
   * Matrix of environments
   *
   * @schema Env#matrix
   */
  readonly matrix?: { [key: string]: string[] }[];

  /**
   * Format string for matrix names, supporting {variable} and {value} placeholders
   *
   * @schema Env#matrix-name-format
   */
  readonly matrixNameFormat?: string;

  /**
   * @schema Env#overrides
   */
  readonly overrides?: Overrides;

  /**
   * Required environment plugins
   *
   * @schema Env#requires
   */
  readonly requires?: string[];
}

/**
 * Converts an object of type 'Env' to JSON representation.
 * @internal
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_Env(obj: Env | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'template': obj.template,
    'detached': obj.detached,
    'dependencies': obj.dependencies?.map(y => y),
    'extra-dependencies': obj.extraDependencies?.map(y => y),
    'features': obj.features?.map(y => y),
    'dev-mode': obj.devMode,
    'skip-install': obj.skipInstall,
    'env-vars': ((obj.envVars) === undefined) ? undefined : (Object.entries(obj.envVars).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {})),
    'env-include': obj.envInclude?.map(y => y),
    'env-exclude': obj.envExclude?.map(y => y),
    'scripts': ((obj.scripts) === undefined) ? undefined : (Object.entries(obj.scripts).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1]?.map(y => y) }), {})),
    'pre-install-commands': obj.preInstallCommands?.map(y => y),
    'post-install-commands': obj.postInstallCommands?.map(y => y),
    'python': obj.python,
    'platforms': obj.platforms?.map(y => y),
    'description': obj.description,
    'type': obj.type,
    'matrix': obj.matrix?.map(y => ((y) === undefined) ? undefined : (Object.entries(y).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1]?.map(y => y) }), {}))),
    'matrix-name-format': obj.matrixNameFormat,
    'overrides': toJson_Overrides(obj.overrides),
    'requires': obj.requires?.map(y => y),
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * Build configuration
 *
 * @schema Build
 */
export interface Build {
  /**
   * @schema Build#ignore-vcs
   */
  readonly ignoreVcs?: boolean;

  /**
   * @schema Build#include
   */
  readonly include?: string[];

  /**
   * @schema Build#exclude
   */
  readonly exclude?: string[];

  /**
   * @schema Build#artifacts
   */
  readonly artifacts?: string[];

  /**
   * Whether to only include non-artifact files in packages
   *
   * @schema Build#only-packages
   */
  readonly onlyPackages?: boolean;

  /**
   * Rewrite relative paths
   *
   * @schema Build#sources
   */
  readonly sources?: any;

  /**
   * Whether to skip excluded directories (for performance reasons)
   *
   * @schema Build#skip-excluded-dirs
   */
  readonly skipExcludedDirs?: boolean;

  /**
   * Whether to make the build reproducible
   *
   * @schema Build#reproducible
   */
  readonly reproducible?: boolean;

  /**
   * Directory to write build artifacts to
   *
   * @schema Build#directory
   */
  readonly directory?: string;

  /**
   * List of directories to add to PYTHONPATH in development mode
   *
   * @schema Build#dev-mode-dirs
   */
  readonly devModeDirs?: string[];

  /**
   * Whether to use an exact dev mode that doesn’t add whole directories to PYTHONPATH
   *
   * @schema Build#dev-mode-exact
   */
  readonly devModeExact?: boolean;

  /**
   * @schema Build#targets
   */
  readonly targets?: { [key: string]: Target };

  /**
   * @schema Build#hooks
   */
  readonly hooks?: { [key: string]: Hook };
}

/**
 * Converts an object of type 'Build' to JSON representation.
 * @internal
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_Build(obj: Build | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'ignore-vcs': obj.ignoreVcs,
    'include': obj.include?.map(y => y),
    'exclude': obj.exclude?.map(y => y),
    'artifacts': obj.artifacts?.map(y => y),
    'only-packages': obj.onlyPackages,
    'sources': obj.sources,
    'skip-excluded-dirs': obj.skipExcludedDirs,
    'reproducible': obj.reproducible,
    'directory': obj.directory,
    'dev-mode-dirs': obj.devModeDirs?.map(y => y),
    'dev-mode-exact': obj.devModeExact,
    'targets': ((obj.targets) === undefined) ? undefined : (Object.entries(obj.targets).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: toJson_Target(i[1]) }), {})),
    'hooks': ((obj.hooks) === undefined) ? undefined : (Object.entries(obj.hooks).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: toJson_Hook(i[1]) }), {})),
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * Version configuration
 *
 * @schema Version
 */
export interface Version {
  /**
   * A relative path to a file containing the project version
   *
   * @schema Version#path
   */
  readonly path?: string;

  /**
   * A regex pattern to extract the version
   *
   * @schema Version#pattern
   */
  readonly pattern?: string;

  /**
   * A source to use for retrieving and updating the version.
   *
   * @schema Version#source
   */
  readonly source?: string;
}

/**
 * Converts an object of type 'Version' to JSON representation.
 * @internal
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_Version(obj: Version | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'path': obj.path,
    'pattern': obj.pattern,
    'source': obj.source,
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * Publish configuration
 *
 * @schema Publish
 */
export interface Publish {
  /**
   * @schema Publish#index
   */
  readonly index?: PublishIndex;
}

/**
 * Converts an object of type 'Publish' to JSON representation.
 * @internal
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_Publish(obj: Publish | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'index': toJson_PublishIndex(obj.index),
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * @schema Platform
 */
export enum Platform {
  /** linux */
  LINUX = "linux",
  /** windows */
  WINDOWS = "windows",
  /** macos */
  MACOS = "macos",
}

/**
 * Overrides depending on things like platform, matrix variables, or environment variables
 *
 * @schema Overrides
 */
export interface Overrides {
  /**
   * @schema Overrides#platform
   */
  readonly platform?: { [key: string]: any };
}

/**
 * Converts an object of type 'Overrides' to JSON representation.
 * @internal
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_Overrides(obj: Overrides | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'platform': ((obj.platform) === undefined) ? undefined : (Object.entries(obj.platform).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {})),
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * @schema Target
 */
export interface Target {
  /**
   * @schema Target#ignore-vcs
   */
  readonly ignoreVcs?: boolean;

  /**
   * @schema Target#include
   */
  readonly include?: string[];

  /**
   * @schema Target#exclude
   */
  readonly exclude?: string[];

  /**
   * @schema Target#artifacts
   */
  readonly artifacts?: string[];

  /**
   * @schema Target#only-include
   */
  readonly onlyInclude?: string[];

  /**
   * Additional dependencies to install in the environment
   *
   * @schema Target#dependencies
   */
  readonly dependencies?: string[];

  /**
   * Whether to install the project’s runtime dependencies
   *
   * @schema Target#require-runtime-dependencies
   */
  readonly requireRuntimeDependencies?: boolean;

  /**
   * A list of the project’s runtime features to install
   *
   * @schema Target#require-runtime-features
   */
  readonly requireRuntimeFeatures?: string[];

  /**
   * List of versions to build
   *
   * @schema Target#versions
   */
  readonly versions?: string[];

  /**
   * List of packages to build
   *
   * @schema Target#packages
   */
  readonly packages?: string[];

  /**
   * Whether to force include files
   *
   * @schema Target#force-include
   */
  readonly forceInclude?: { [key: string]: string };

  /**
   * Whether to only include non-artifact files in packages
   *
   * @schema Target#only-packages
   */
  readonly onlyPackages?: boolean;

  /**
   * Rewrite relative paths
   *
   * @schema Target#sources
   */
  readonly sources?: { [key: string]: string };

  /**
   * Whether or not to suppress the error when one has not defined any file selection options and all heuristics have failed to determine what to ship
   *
   * @schema Target#bypass-selection
   */
  readonly bypassSelection?: boolean;
}

/**
 * Converts an object of type 'Target' to JSON representation.
 * @internal
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_Target(obj: Target | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'ignore-vcs': obj.ignoreVcs,
    'include': obj.include?.map(y => y),
    'exclude': obj.exclude?.map(y => y),
    'artifacts': obj.artifacts?.map(y => y),
    'only-include': obj.onlyInclude?.map(y => y),
    'dependencies': obj.dependencies?.map(y => y),
    'require-runtime-dependencies': obj.requireRuntimeDependencies,
    'require-runtime-features': obj.requireRuntimeFeatures?.map(y => y),
    'versions': obj.versions?.map(y => y),
    'packages': obj.packages?.map(y => y),
    'force-include': ((obj.forceInclude) === undefined) ? undefined : (Object.entries(obj.forceInclude).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {})),
    'only-packages': obj.onlyPackages,
    'sources': ((obj.sources) === undefined) ? undefined : (Object.entries(obj.sources).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {})),
    'bypass-selection': obj.bypassSelection,
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * @schema Hook
 */
export interface Hook {
  /**
   * Additional dependencies installed in the build environment
   *
   * @schema Hook#dependencies
   */
  readonly dependencies?: string[];

  /**
   * Whether to install the project’s runtime dependencies
   *
   * @schema Hook#require-runtime-dependencies
   */
  readonly requireRuntimeDependencies?: boolean;

  /**
   * A list of the project’s runtime features to install
   *
   * @schema Hook#require-runtime-features
   */
  readonly requireRuntimeFeatures?: string[];

  /**
   * Whether to enable current hook (disable to control activation using environment variables)
   *
   * @schema Hook#enable-by-default
   */
  readonly enableByDefault?: boolean;
}

/**
 * Converts an object of type 'Hook' to JSON representation.
 * @internal
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_Hook(obj: Hook | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'dependencies': obj.dependencies?.map(y => y),
    'require-runtime-dependencies': obj.requireRuntimeDependencies,
    'require-runtime-features': obj.requireRuntimeFeatures?.map(y => y),
    'enable-by-default': obj.enableByDefault,
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * Publishing index configuration
 *
 * @schema PublishIndex
 */
export interface PublishIndex {
  /**
   * Ask for confirmation when publishing to index
   *
   * @schema PublishIndex#disable
   */
  readonly disable?: boolean;

  /**
   * Define named repositories to publish to
   *
   * @schema PublishIndex#repos
   */
  readonly repos?: PublishIndexRepos;
}

/**
 * Converts an object of type 'PublishIndex' to JSON representation.
 * @internal
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_PublishIndex(obj: PublishIndex | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'disable': obj.disable,
    'repos': toJson_PublishIndexRepos(obj.repos),
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */

/**
 * Define named repositories to publish to
 *
 * @schema PublishIndexRepos
 */
export interface PublishIndexRepos {
  /**
   * @schema PublishIndexRepos#url
   */
  readonly url?: string;
}

/**
 * Converts an object of type 'PublishIndexRepos' to JSON representation.
 * @internal
 */
/* eslint-disable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
export function toJson_PublishIndexRepos(obj: PublishIndexRepos | undefined): Record<string, any> | undefined {
  if (obj === undefined) { return undefined; }
  const result = {
    'url': obj.url,
  };
  // filter undefined values
  return Object.entries(result).reduce((r, i) => (i[1] === undefined) ? r : ({ ...r, [i[0]]: i[1] }), {});
}
/* eslint-enable max-len, @stylistic/max-len, quote-props, @stylistic/quote-props */
